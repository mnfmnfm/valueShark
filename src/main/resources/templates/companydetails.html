<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head th:replace="fragments/head.html :: head"></head>
  <body>
    <header th:replace="fragments/header.html :: header"></header>
    <main style="min-height:95vh;">

      <h1>Company Details</h1>
      <section id="companyHeader">
        <h2 th:text="${company.companyName}"></h2>

        <img th:src="${company.logoUrl}" th:alt = "${company.companyName} + 'logo'">
        <p th:text="'Price: ' + ${company.price}"></p>

      <ul id ="companyDetails">
        <li th:text="'Exchange: '+ ${company.exchange}"></li>
        <li th:text="'Sector: '+ ${company.sector}"></li>
        <li th:text="'Industry: '+ ${company.industry}"></li>
        <li th:text="'CEO: '+ ${company.CEO}"></li>

       </ul>

        <p id= "companyDescription" th:text="${company.description}"></p>

        <div id="companyStats">
          <h2>Stats:</h2>
          <ul>
            <li>Market Cap: <b>$[[${#numbers.formatDecimal(company.marketcap, 0, 'COMMA', 2, 'POINT')}]]</b></li>
            <li>Week 52 High: <b>$[[${#numbers.formatDecimal(company.week52high, 0, 'COMMA', 2, 'POINT')}]]</b></li>
            <li>Week 52 Low: <b>$[[${#numbers.formatDecimal(company.week52low, 0, 'COMMA', 2, 'POINT')}]]</b></li>
            <li>Week 52 Change: <b>[[${#numbers.formatDecimal(company.week52change, 0, 'COMMA', 2, 'POINT')}]]%</b></li>
            <li>Shares Outstanding: <b>[[${#numbers.formatDecimal(company.sharesOutstanding, 0, 'COMMA', 0, 'POINT')}]]</b></li>
            <li>Day 200 Moving Avg: <b>$[[${#numbers.formatDecimal(company.day200MovingAvg, 0, 'COMMA', 2, 'POINT')}]]</b></li>
            <li>Day 50 Moving Avg: <b>$[[${#numbers.formatDecimal(company.day50MovingAvg, 0, 'COMMA', 2, 'POINT')}]]</b></li>
            <li>EPS (ttm): <b>$[[${#numbers.formatDecimal(company.day50MovingAvg, 0, 'COMMA', 2, 'POINT')}]]</b></li>
            <li>Next Earning Date: <b>[[${company.nextEarningsDate}]]</b></li>
            <li>P/E ratio: <b>[[${#numbers.formatDecimal(company.peRatio, 0, 2, 'POINT')}]]</b></li>
            <li>Beta: <b>[[${#numbers.formatDecimal(company.beta, 0, 2, 'POINT')}]]</b></li>
            <li>Profit Margin: <b>[[${#numbers.formatDecimal(company.profitMargin, 0, 'COMMA', 2, 'POINT')}]]%</b></li>
            <li>Enterprise Value: <b>$[[${#numbers.formatDecimal(company.enterpriseValue, 0, 'COMMA', 2, 'POINT')}]]</b></li>
            <li>Price-to-Book: <b>[[${#numbers.formatDecimal(company.priceToBook, 0, 'COMMA', 2, 'POINT')}]]</b></li>
            <li>Peg Ratio: <b>[[${#numbers.formatDecimal(company.pegRatio, 0, 'COMMA', 2, 'POINT')}]]</b></li>
          </ul>
        </div>

        <article id="companynews">
          <h2>In the News</h2>
          <h3 th:text="${company.newsHeadline}"></h3>
          <p th:text="${company.newsDate}"></p>
          <a th:href="${company.newsUrl}"></a>
          <p th:text="'Source: '+ ${company.newsSource}"></p>
          <p th:text= "${company.newsSummary}"></p>
        </article>

        <article id="addressInfo">
          <p th:text="${company.city} + ${company.state} + ${company.country}"></p>
          <a th:href="${company.website}" th:text="${company.website}"></a>
        </article>

        <form id="addToPortfolio" th:action="'/portfolio/add/'+${company.symbol}" method="post">
          <p><b>Add to portfolio</b></p>
          <label>Shares owned:
          <input name="shares" type="text"/>
          </label>
          <label>Price paid:
          <input name="pricePerShare" type="text"/>
          </label>
          <input type="submit" value="Add to portfolio">
        </form>
      </section>
    </main>

    <footer th:replace="fragments/footer.html :: footer"></footer>
    <script th:replace="fragments/bootstrapscripts.html :: bootstrapscripts"></script>
  </body>
</html>
<div th:fragment="portfolioTable" th:if="${user}" id="portfolioList">
    <p id="portfolioHeader">My Portfolio:</p>
    <ul class="portfolioItem" th:each="item : ${user.portfolio}">
        <li>Symbol: <b>[[${item.portfolioCompany.symbol}]]</b></li>
        <li>Company Name: <b>[[${item.portfolioCompany.companyName}]]</b></li>
        <li>Average Cost: <b>$[[${#numbers.formatDecimal(item.pricePerShare, 0, 2, 'POINT')}]]</b></li>
        <li>Shares owned: <b>[[${item.shares}]]</b></li>
        <!--                add a percent change here later, maybe-->
        <li>Total Value: <b>$[[${#numbers.formatDecimal(item.pricePerShare * item.shares, 0, 2, 'POINT')}]]</b></li>

        <button class="updateButton">Edit</button>
        <form th:action="'/portfolioItem/' + ${item.id} + '/update'" th:method="PUT" style="display: none;">
            <input type="number" name="shares" required />
            <input type="number" name="pricePerShare" required />
            <input type="submit" value="UPDATE" />
        </form>

        <form th:action="'/portfolioItem/' + ${item.id} + '/delete'" th:method="DELETE">
            <input type="submit" value="DELETE" />
        </form>
    </ul>
</div>